import{o as t,g as o,F as l,s as c,h,v as p,d as e,t as u}from"./app.6690a3d2.js";import{_ as m}from"./_plugin-vue_export-helper.cdc0426e.js";const f={data(){return{posts:[],page:1,showLoading:!1}},beforeMount(){this.handleLoadMore()},mounted(){this.handleScroll()},methods:{handleLoadMore(){let s="/api/posts?page="+this.page;axios.get(s).then(a=>{a.data.data.forEach((n,r)=>{this.posts.push(n)}),this.showLoading=!1}),this.page+=1},handleScroll(){window.onscroll=()=>{document.documentElement.scrollTop+window.innerHeight>=document.documentElement.offsetHeight&&(this.showLoading=!0,this.handleLoadMore())}}}},g={class:"max-w-sm mx-auto bg-white p-4 space-y-4"},_={class:"h-80 text-white bg-gray-600 rounded-lg p-4"},w={class:"fixed left-0 bottom-4 w-full"},x=e("div",{class:"max-w-sm mx-auto flex justify-center"},[e("button",{class:"bg-yellow-500 rounded px-4 text-center"},"Loading ...")],-1),L=[x];function v(s,a,n,r,i,b){return t(),o("div",g,[(t(!0),o(l,null,c(i.posts,d=>(t(),o("div",{key:d.id},[e("div",_,u(d.title),1)]))),128)),h(e("div",w,L,512),[[p,i.showLoading]])])}const E=m(f,[["render",v]]);export{E as default};
